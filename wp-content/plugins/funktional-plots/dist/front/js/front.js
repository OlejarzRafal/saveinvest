"use strict";function _classCallCheck(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,o,e){return o&&_defineProperties(t.prototype,o),e&&_defineProperties(t,e),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(e){var n={};function s(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=n,s.d=function(t,o,e){s.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(o,t){if(1&t&&(o=s(o)),8&t)return o;if(4&t&&"object"==_typeof(o)&&o&&o.__esModule)return o;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var n in o)s.d(e,n,function(t){return o[t]}.bind(null,n));return e},s.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(o,"a",o),o},s.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},s.p="",s(s.s=0)}([function(t,o){var e=function(){function t(){_classCallCheck(this,t),window.funktionalPlots&&"object"==_typeof(window.funktionalPlots)?(this.mainMap=$("[data-plots-map]"),this.sectorsSelection=$("[data-plots-sectors]"),this.sectors=$("[data-plots-sector]"),this.sector=null,this.plots=null,this.plotSelected=null,this.initSectorsEvents(),this.setPlotsStatus()):console.error("funktionalPlots data not found!")}return _createClass(t,[{key:"initSectorsEvents",value:function(){this.sectorsSelection.length?this.sectorsSelection.find("[data-plots-sector-selector]").click(this.handleSelectSector.bind(this)):(this.sector=$("[data-plots-sector]"),this.sector.show(),this.initPlotsEvent()),this.mainMap.find("[data-plots-back-to-sectors]").click(this.handleBackToMainMap.bind(this))}},{key:"initPlotsEvent",value:function(){var n=this;this.plots?(this.plots.on("mouseover hover click",function(t){var o=$(t.target).is("[data-plots-plot]")?$(t.target):$(t.target).closest("[data-plots-plot]");if(o){var e=o.attr("data-plots-plot");"click"===t.type?n.showPlotInfo(e,!0):n.plotSelected||n.showPlotInfo(e,!1)}else console.error("Selected plot has wrong attribute! Event:",t)}),this.plots.on("mouseout blur",function(){n.plotSelected||n.hidePlotInfo()})):console.error("Plots paths not found!")}},{key:"setPlotsStatus",value:function(){var n=this;window.funktionalPlots.forEach(function(t){var o;if(t.sector&&t.sector.value){var e=$('[data-plots-sector="'.concat(t.sector.value,'"]'));e&&e.length?o=e.find('[data-plots-plot="'.concat(t.plotNr,'"]')):console.log("sector element for plot ".concat(t," not found!"))}else n.sector&&(o=$(n.sector).find('[data-plots-plot="'.concat(t.plotNr,'"]')));o&&o.length?o.addClass("plot-status--"+t.status.value):console.log("plot ".concat(t," element not found!"))})}},{key:"handleSelectSector",value:function(t){var o=$(t.currentTarget).attr("data-plots-sector-selector");o&&"string"==typeof o?(this.sector=$('[data-plots-sector="'.concat(o,'"]')),this.sector.length?(this.sectorsSelection.hide(),this.sector.show(),this.plots=this.sector.find("[data-plots-plot]"),this.initPlotsEvent()):console.error("Sector ".concat(o," was not found!"))):console.error("Selected ".concat(o," sector has wrong attribute!"))}},{key:"handleBackToMainMap",value:function(t){t&&t.preventDefault(),this.sector.hide(),this.sector=null,this.sectorsSelection.show()}},{key:"showPlotInfo",value:function(o,t){var e=window.funktionalPlots.find(function(t){return t.plotNr===o});e?(t&&(this.plotSelected=e),console.log("plotData",e)):console[t?"error":"warn"]("Plot ".concat(o," data not found!"))}},{key:"hidePlotInfo",value:function(t){t&&(this.plotSelected=null)}}]),t}();$(function(){$("[data-plots-map]").length&&new e})}]);
//# sourceMappingURL=front.js.map
